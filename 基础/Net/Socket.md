# 网络编程



#### 网络七层协议

###### 从下往上:

- 物理层

- 数据链路层
- 网络层
  - ip
- 传输层
- 会话层
- 表达层
- 应用层

###### 媒体层： 

- 物理层、数据链路层、网络层

###### 主机层： 面向用户

- 传输层、会话层、表达层、应用层

##### 概念区分

- http：应用层协议，主要解决如何包装数据
- tcp/ip： 传输层协议， 主要解决数据如何在网络中v传输
- socket：是应用层与TCP/IP协议簇通信中间的软件抽象层, 是它的一组接口.



#### Socket

##### TCP/IP五层模型

> TCP/IP协议并不能在传输层总是保证可靠的传输数据包, 但七层模型可以做到.

- 应用层 
  - 包含了会话层, 表达层, 应用层等功能
- 传输层
- 网络层
- 数据链路层
- 物理层

![2744128-0e3628252b2a4209](/Users/Joy/Downloads/2744128-0e3628252b2a4209.png)

##### 传输模式

- TCP
  - 面向连接、传输可靠、面向字节流、双全工服务
  - http之所以选择tcp是因为对http协议来说可靠性至关重要
  - 20字节的首部开销
- UDP
  - 面向非连接、传输不可靠、面向报文（传输快）
  - 实际应用需要数据及时发送， 因此可以容忍部分数据的丢失， 适合UDP
  - 没有引入建立连接的时延， 因此DNS运行在udp上
    - DNS域名系统
      - 一个有分层的DNS服务器实现的分布式数据库
      - 一个使得主机能够查询分布式数据库的应用层协议
      - 将用户提供的主机名解析为IP地址
  - 8字节的首部开销



#### TCP

###### 三次握手

![tcp_open](/Users/Joy/Downloads/tcp_open.png)



###### 四次挥手![tcp_close](/Users/Joy/Downloads/tcp_close.png)