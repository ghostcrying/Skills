# 基础



#### Class & Struct

> swift中, class是引用类型, struct是值类型, 值类型在传递和赋值时将进行复制,而引用类型只会使用引用对象的一个指向;引用类型是在堆上, 而值类型是在栈上进行传递与操作,相比栈上的操作,堆上面的操作更加复杂耗时,推荐使用struct

- class
  - 可以被继承
  - 类型转换可以在runtime的时候进行类型检查
  - deinit可以释放
  - 可以被多次使用
- struct
  - 结构体较小,适用于复制操作,相比于class实例被多次引用更加安全
  - 无需担心内存泄露与多线程冲突问题



#### Swift为什么将string\array\dict设计为值类型

- 值类型和引用类型相比, 最大优势在于高效的使用内存
- 值类型是在栈上操作, 仅仅是单个指针的移动
- 引用类型是在堆上操作, 牵涉合并\位移\重链接
- swift这样设计减少了堆上内存分配和回收次数, 使用copy-on-write将值传递与复制开销降到最低

